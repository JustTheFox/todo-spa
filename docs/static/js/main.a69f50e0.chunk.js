(this["webpackJsonptodo-spa"]=this["webpackJsonptodo-spa"]||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){},42:function(e,t,a){e.exports=a(83)},68:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),o=a(5),l=a(16),i=a(39),u=a(40),s=a(8),E=a(1),d={items:[],isFetching:!1,error:null},m=function(e,t){return e.map((function(e){return e.id===t?Object(E.a)(Object(E.a)({},e),{},{favorite:!e.favorite}):e}))},b={item:{},color:{},isFetching:!1,error:null},f={items:[],isFetching:!1,error:null},O=function(e,t){return e.items.map((function(e){return e.id===t.id?Object(E.a)(Object(E.a)({},e),t):e}))},_=function(e,t){return e.items.map((function(e){return e.id===t.listId?Object(E.a)(Object(E.a)({},e),{},{tasks:[].concat(Object(s.a)(e.tasks),[t])}):e}))},C=function(e,t){return e.items.map((function(e){if(e.id===t.listId){var a=e.tasks.map((function(e){return e.id===t.id?Object(E.a)({},t):e}));return Object(E.a)(Object(E.a)({},e),{},{tasks:Object(s.a)(a)})}return e}))},j=function(e,t,a){return e.items.map((function(e){return e.id===t?e.tasks.filter((function(e){return e.id!==a})):e}))},v={items:[],isFetching:!1,error:null},S=Object(l.c)({boards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_BOARDS_STARTED":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!0});case"FETCH_BOARDS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,items:Object(s.a)(n)});case"FETCH_BOARDS_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,error:n});case"CREATE_BOARD_STARTED":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!0});case"CREATE_BOARD_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{items:[].concat(Object(s.a)(e.items),[n]),isFetching:!1});case"CREATE_BOARD_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,error:n});case"TOGGLE_BOARD_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{items:Object(s.a)(m(e,n))});case"TOGGLE_BOARD_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{error:n});default:return e}},currentBoard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_CURRENT_BOARD_STARTED":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!0});case"FETCH_CURRENT_BOARD_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{item:Object(E.a)({},n),isFetching:!1});case"FETCH_CURRENT_BOARD_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,error:n});case"FETCH_CURRENT_BOARD_COLOR_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{color:Object(E.a)({},n)});case"FETCH_CURRENT_BOARD_COLOR_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{error:n});case"TOGGLE_CURRENT_BOARD_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{item:Object(E.a)(Object(E.a)({},e.item),{},{favorite:!e.item.favorite})});case"TOGGLE_CURRENT_BOARD_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{error:n});case"EDIT_CURRENT_BOARD_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{item:Object(E.a)({},n)});case"EDIT_CURRENT_BOARD_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{error:n});case"DELETE_CURRENT_BOARD_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{item:{},color:{},isFetching:!1,error:""});case"DELETE_CURRENT_BOARD_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,error:n});default:return e}},lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_LISTS_STARTED":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!0});case"FETCH_LISTS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{items:Object(s.a)(n),isFetching:!1});case"FETCH_LISTS_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,error:n});case"CREATE_LIST_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{items:[].concat(Object(s.a)(e.items),[Object(E.a)(Object(E.a)({},n),{},{tasks:[]})])});case"CREATE_LIST_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{error:n});case"EDIT_LIST_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{items:Object(s.a)(O(e,n))});case"EDIT_LIST_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{error:n});case"DELETE_LIST_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{items:e.items.filter((function(e){return e.id!==n}))});case"DELETE_LIST_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{error:n});case"CREATE_TASK_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{items:Object(s.a)(_(e,n))});case"CREATE_TASK_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{error:n});case"EDIT_TASK_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{items:Object(s.a)(C(e,n))});case"EDIT_TASK_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{error:n});case"DELETE_TASK_SUCCESS":return Object(E.a)(Object(E.a)({},e),j(e,n.listId,n.taskId));case"DELETE_TASK_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{error:n});default:return e}},colors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_COLORS_STARTED":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!0});case"FETCH_COLORS_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,items:Object(s.a)(n)});case"FETCH_COLORS_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,error:n});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_SEARCH_VALUE":return n;default:return e}}}),h=Object(u.createLogger)(),p=Object(l.d)(S,Object(l.a)(i.a,h)),R=a(3),T={DARK:"dark",LIGHT:"light"},g=Object(n.createContext)(),y=function(e){var t=e.children,a=Object(n.useState)(T.LIGHT),r=Object(R.a)(a,2),o=r[0],l=r[1];return c.a.createElement(g.Provider,{value:{THEMES:T,theme:o,onSetTheme:function(){return l(o===T.DARK?T.LIGHT:T.DARK)}}},t)},A=a(15),F=a(4),L=a(41),I=a.n(L).a.create({baseURL:"http://localhost:3004",headers:{"Content-Type":"application/json"}}),D=function(e,t){return I.put("/boards/".concat(e),Object(E.a)({},t))},U=function(e){return I.get("/colors/".concat(e))},k=function(){return function(e){e({type:"FETCH_BOARDS_STARTED"}),I.get("/boards?_expand=color&".concat("_sort=id&_order=asc")).then((function(t){var a=t.data;e(function(e){return{type:"FETCH_BOARDS_SUCCESS",payload:e}}(a))})).catch((function(t){var a=t.message;e({type:"FETCH_BOARDS_FAILURE",payload:a})}))}},N=function(e){return function(t){var a;t({type:"CREATE_BOARD_STARTED"}),(a=e,I.post("/boards",Object(E.a)({},a))).then((function(e){var a=e.data;t(function(e){return{type:"CREATE_BOARD_SUCCESS",payload:e}}(a))})).catch((function(e){var a=e.message;t({type:"CREATE_BOARD_FAILURE",payload:a})}))}},B=(a(68),function(){return c.a.createElement(A.b,{to:"/",className:"logo"},"JustTODO")}),H=(a(70),function(){return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header__logo"},c.a.createElement(B,null)))}),w=(a(71),function(e){var t=e.children;return c.a.createElement("main",{className:"content"},t)}),x=(a(72),function(e){var t=e.withoutHeader,a=e.children;return c.a.createElement(c.a.Fragment,null,!t&&c.a.createElement(H,null),c.a.createElement(w,null,a))}),G=a(6),z=a.n(G),K=(a(73),function(e){var t=e.tagName,a=e.size,n=void 0===a?"large":a,r=e.className,o=e.children,l=t||"h1";return c.a.createElement(l,{className:z()("title",{"title--small":"small"===n,"title--medium":"medium"===n,"title--large":"large"===n},r)},o)}),M=a(13),V=function(){return function(e){e({type:"FETCH_COLORS_STARTED"}),I.get("/colors?_sort=id&_order=asc").then((function(t){var a=t.data;e(function(e){return{type:"FETCH_COLORS_SUCCESS",payload:e}}(a))})).catch((function(t){var a=t.message;e({type:"FETCH_COLORS_FAILURE",payload:a})}))}},J=function(e){var t=e.children;return Object(r.createPortal)(t||null,document.body)},P=(a(74),function(e){var t=e.children,a=e.title,r=e.onClose,o=e.size,l=void 0===o?"medium":o,i=Object(n.useCallback)((function(){return r()}),[r]),u=Object(n.useCallback)((function(e){27===e.keyCode&&i()}),[i]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",u),function(){return document.removeEventListener("keydown",u)}}),[u]),c.a.createElement(J,null,c.a.createElement("div",{className:z()("modal",{"modal--small":"small"===l,"modal--medium":"medium"===l,"modal--large":"large"===l})},c.a.createElement("div",{className:"modal__content"},c.a.createElement("div",{className:"modal__header"},c.a.createElement(K,{tagName:"h5",size:"medium"},a),c.a.createElement("button",{type:"button",className:"modal__close","aria-label":"Close",onClick:i},"\xd7")),c.a.createElement("div",{className:"modal__body"},t))))}),q=(a(36),function(e){var t=e.className,a=e.onChange,n=e.error,r=Object(M.a)(e,["className","onChange","error"]);return c.a.createElement("div",{className:z()("text-field",t)},c.a.createElement("input",Object.assign({className:"text-field__input form-control",onChange:a},r)),n&&c.a.createElement("span",{className:"text-field__error"},n))}),Q=(a(37),function(e){var t=e.className,a=e.id,n=e.name,r=e.color,o=void 0===r?"":r,l=e.active,i=e.onChange;return c.a.createElement("div",{className:z()("color-field-item",t)},c.a.createElement("input",{type:"radio",className:"color-field-item__input",id:"".concat(n,"-").concat(a),name:n,checked:a===l,value:a,onChange:function(){return i(a)}}),c.a.createElement("label",{htmlFor:"".concat(n,"-").concat(a),className:"color-field-item__label",style:{backgroundColor:o}}))}),W=function(e){var t=e.items,a=void 0===t?[]:t,r=e.active,o=e.onChange,l=e.className,i=Object(n.useState)(r||1),u=Object(R.a)(i,2),s=u[0],E=u[1],d=function(e){E(e),o(e)};return c.a.createElement("div",{className:z()("color-field",l)},a.map((function(e){var t=e.id,a=e.hex;return c.a.createElement(Q,{key:t,id:t,name:"color",color:a,active:s,onChange:d})})))},X=(a(75),Object(n.memo)((function(e){var t=e.type,a=void 0===t?"submit":t,n=e.children,r=e.onClick,o=e.theme,l=void 0===o?"primary":o,i=e.block,u=e.icon,s=e.className,E=Object(M.a)(e,["type","children","onClick","theme","block","icon","className"]);return c.a.createElement("button",Object.assign({type:a,onClick:r,className:z()("btn",{"btn-primary":"primary"===l,"btn-secondary":"secondary"===l,"btn-success":"success"===l,"btn-danger":"danger"===l,"btn-outline-light":"light"===l,"btn-outline-dark":"dark"===l,"btn-block":i,"btn-icon":u},s)},E),n)}))),Y=function(e){var t=e.initialState,a=void 0===t?{}:t,r=e.onOk,l=e.onClose,i=Object(M.a)(e,["initialState","onOk","onClose"]),u=Object(n.useState)((null===a||void 0===a?void 0:a.title)||""),s=Object(R.a)(u,2),d=s[0],m=s[1],b=Object(n.useState)((null===a||void 0===a?void 0:a.colorId)||1),f=Object(R.a)(b,2),O=f[0],_=f[1],C=Object(o.b)();Object(n.useEffect)((function(){C(V())}),[]);var j=Object(o.c)((function(e){return e.colors.items})),v=function(){m(""),l()};return c.a.createElement(P,Object.assign({title:"Add board",onClose:l},i),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d.trim()&&(r(Object(E.a)(Object(E.a)({},a),{},{title:d,colorId:O})),v())}},c.a.createElement(q,{className:"mb-3",type:"text",value:d,onChange:function(e){var t=e.target;return m(t.value)}}),c.a.createElement(W,{items:j,active:O,onChange:_}),c.a.createElement(X,{disabled:!d||!O},"Submit"),c.a.createElement(X,{type:"button",onClick:v},"Cansel")))},Z=(a(76),function(e){var t=e.width,a=e.height,n=e.viewBox,r=e.children,o=Object(M.a)(e,["width","height","viewBox","children"]);return c.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t||24,height:a||24,viewBox:n||"0 0 24 24",children:r},o))}),$=function(e){return c.a.createElement(Z,Object.assign({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M2.5 1a1 1 0 00-1 1v1a1 1 0 001 1H3v9a2 2 0 002 2h6a2 2 0 002-2V4h.5a1 1 0 001-1V2a1 1 0 00-1-1H10a1 1 0 00-1-1H7a1 1 0 00-1 1H2.5zm3 4a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7a.5.5 0 01.5-.5zM8 5a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7A.5.5 0 018 5zm3 .5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7z",clipRule:"evenodd"}))},ee=function(e){return c.a.createElement(Z,Object.assign({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z",clipRule:"evenodd"}))},te=function(e){return c.a.createElement(Z,Object.assign({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M11.293 1.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z",clipRule:"evenodd"}),c.a.createElement("path",{fillRule:"evenodd",d:"M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 00.5.5H4v.5a.5.5 0 00.5.5H5v.5a.5.5 0 00.5.5H6v-1.5a.5.5 0 00-.5-.5H5v-.5a.5.5 0 00-.5-.5H3z",clipRule:"evenodd"}))},ae=function(e){return c.a.createElement(Z,Object.assign({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M13.854 3.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3.5-3.5a.5.5 0 11.708-.708L6.5 10.293l6.646-6.647a.5.5 0 01.708 0z",clipRule:"evenodd"}))},ne=function(e){return c.a.createElement(Z,Object.assign({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"}))},ce=function(e){var t=e.id,a=e.color,n=e.children,r=e.favorite,o=e.isCreate,l=e.onToggle,i=e.onCreate,u=function(){return l(t,r)};return c.a.createElement("li",{className:"board-item",style:{backgroundColor:null===a||void 0===a?void 0:a.hex}},o?c.a.createElement("button",{type:"button",className:"board-item__wrapper board-item__button",onClick:i},n):c.a.createElement(c.a.Fragment,null,c.a.createElement(A.b,{to:"/boards/".concat(t),className:"board-item__wrapper board-item__link"},c.a.createElement("h2",{className:"board-item__title"},n)),c.a.createElement("div",{className:"board-item__buttons"},c.a.createElement(X,{type:"button",onClick:u,title:"Add to favorites"},c.a.createElement(ee,null)))))},re=(a(77),function(e){var t=e.children,a=Object(n.useState)(!1),r=Object(R.a)(a,2),l=r[0],i=r[1],u=Object(o.b)(),s=Object(n.useCallback)((function(e){u(N(e))}),[u]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"board-list"},c.a.createElement(c.a.Fragment,null,t),c.a.createElement(ce,{isCreate:!0,onCreate:function(){return i(!0)}},"Create new board")),l&&c.a.createElement(Y,{onOk:function(e){s(e)},onClose:function(){return i(!1)}}))}),oe=function(){var e=Object(o.b)();Object(n.useEffect)((function(){e(k())}),[]);var t=Object(n.useCallback)((function(t){e(function(e,t){return function(a){D(e,Object(E.a)(Object(E.a)({},t),{},{favorite:!t.favorite})).then((function(){a(function(e){return{type:"TOGGLE_BOARD_SUCCESS",payload:e}}(e))})).catch((function(e){var t=e.message;a({type:"TOGGLE_BOARD_FAILURE",payload:t})}))}}(t))}),[e]),a=Object(o.c)((function(e){return e.boards.isFetching})),r=Object(o.c)((function(e){return e.boards.items}))||[];return c.a.createElement(x,null,c.a.createElement(K,null,"Boards"),a&&c.a.createElement("p",null,"Loading..."),c.a.createElement(re,null,r.map((function(e){var a=e.id,n=e.title,r=e.favorite,o=e.color,l=void 0===o?"":o;return c.a.createElement(ce,{key:a,id:a,favorite:r,color:l,onToggle:t},n)}))))},le=function(e){return{type:"FETCH_CURRENT_BOARD_COLOR_SUCCESS",payload:e}},ie=function(e){return{type:"FETCH_CURRENT_BOARD_COLOR_FAILURE",payload:e}},ue=function(e){return function(t){t({type:"FETCH_CURRENT_BOARD_STARTED"}),function(e){return I.get("/boards/".concat(e))}(e).then((function(e){var a=e.data;t(function(e){return{type:"FETCH_CURRENT_BOARD_SUCCESS",payload:e}}(a)),U(a.colorId).then((function(e){var a=e.data;t(le(a))})).catch((function(e){var a=e.message;t(ie(a))}))})).catch((function(e){var a=e.message;t({type:"FETCH_CURRENT_BOARD_FAILURE",payload:a})}))}},se=function(e){return function(t){(function(e){return I.delete("/boards/".concat(e))})(e).then((function(){var e;t({type:"DELETE_CURRENT_BOARD_SUCCESS",payload:e})})).catch((function(e){var a=e.message;t({type:"DELETE_CURRENT_BOARD_FAILURE",payload:a})}))}},Ee=function(e){return function(t){var a;t({type:"FETCH_LISTS_STARTED"}),(a=e,I.get("/lists?boardId=".concat(a,"&_embed=tasks&").concat("_sort=id&_order=asc"))).then((function(e){var a=e.data;t({type:"FETCH_LISTS_SUCCESS",payload:a})})).catch((function(e){var a=e.message;t({type:"FETCH_LISTS_FAILURE",payload:a})}))}},de=function(e){return function(t){var a;(a=e,I.post("/lists",Object(E.a)({},a))).then((function(e){var a=e.data;t(function(e){return{type:"CREATE_LIST_SUCCESS",payload:e}}(a))})).catch((function(e){var a=e.message;t({type:"CREATE_LIST_FAILURE",payload:a})}))}},me=function(e,t){return function(a){(function(e,t){return I.put("/lists/".concat(e),Object(E.a)({},t))})(e,t).then((function(e){var t=e.data;a({type:"EDIT_LIST_SUCCESS",payload:t})})).catch((function(e){var t=e.message;a({type:"EDIT_LIST_FAILURE",payload:t})}))}},be=function(e){return function(t){(function(e){return I.delete("/lists/".concat(e))})(e).then((function(){t({type:"DELETE_LIST_SUCCESS",payload:e})})).catch((function(e){var a=e.message;t({type:"DELETE_LIST_FAILURE",payload:a})}))}},fe=function(e){return function(t){var a;(a=e,I.post("/tasks",Object(E.a)({},a))).then((function(e){var a=e.data;t(function(e){return{type:"CREATE_TASK_SUCCESS",payload:e}}(a))})).catch((function(e){var a=e.message;t({type:"CREATE_TASK_FAILURE",payload:a})}))}},Oe=function(e,t){return function(a){(function(e,t){return I.put("/tasks/".concat(e),Object(E.a)({},t))})(e,t).then((function(e){var t=e.data;a({type:"EDIT_TASK_SUCCESS",payload:t})})).catch((function(e){var t=e.message;a({type:"EDIT_TASK_FAILURE",payload:t})}))}},_e=function(e,t){return function(a){var n;(n=t,I.delete("/tasks/".concat(n))).then((function(){a(function(e,t){return{type:"DELETE_TASK_SUCCESS",payload:{listId:e,taskId:t}}}(e,t))})).catch((function(e){var t=e.message;a({type:"DELETE_TASK_FAILURE",payload:t})}))}},Ce=(a(78),function(e){var t=e.boardId,a=e.children,l=Object(n.useState)(!1),i=Object(R.a)(l,2),u=i[0],s=i[1],E=Object(n.useState)(""),d=Object(R.a)(E,2),m=d[0],b=d[1],f=Object(n.useRef)(null),O=Object(o.b)(),_=Object(n.useCallback)((function(e){O(de(e))}),[O]),C=function(){s(!1),b("")};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"card-list"},c.a.createElement(c.a.Fragment,null,a),c.a.createElement("div",{className:"card-list__create",ref:f},!u&&c.a.createElement(X,{className:"card-list__create-btn",onClick:function(){return s(!0)}},"Create list"),u&&c.a.createElement("form",{onSubmit:function(e){var a;(e.preventDefault(),m.trim())&&(_({boardId:Number(t),title:m}),C(),a=f,Object(r.findDOMNode)(a.current).scrollIntoView({behavior:"smooth",block:"end"}))}},c.a.createElement(q,{type:"text",name:"task",value:m,onChange:function(e){var t=e.target;return b(t.value)},autoFocus:!0}),c.a.createElement(X,null,"Add"),c.a.createElement(X,{type:"button",onClick:C},"Cancel")))))}),je=(a(79),function(e){var t=e.id,a=e.boardId,r=e.title,l=e.onEdit,i=e.onDelete,u=e.children,s=Object(n.useState)(""),E=Object(R.a)(s,2),d=E[0],m=E[1],b=Object(n.useState)(r),f=Object(R.a)(b,2),O=f[0],_=f[1],C=Object(n.useState)(!1),j=Object(R.a)(C,2),v=j[0],S=j[1],h=Object(n.useState)(!1),p=Object(R.a)(h,2),T=p[0],g=p[1],y=Object(o.b)(),A=function(){return g(!0)},F=function(){g(!1),_(r)},L=function(e){var t=e.target;return _(t.value)},I=function(e){e.preventDefault(),O.trim()===r?F():(l(t,{boardId:Number(a),title:O}),g(!1),_(O))},D=Object(n.useCallback)((function(e){y(fe(e))}),[y]),U=function(){S(!1),m("")},k=function(){return i(t)};return c.a.createElement("div",{className:"card-item"},T?c.a.createElement("form",{className:"card-item__head",onSubmit:I},c.a.createElement(q,{value:O,onChange:L,className:"mb-0"}),c.a.createElement("div",{className:"card-item__buttons"},c.a.createElement(X,{title:"Submit",icon:!0},c.a.createElement(ae,null)),c.a.createElement(X,{type:"button",title:"Cancel",icon:!0,onClick:F},c.a.createElement(ne,null)))):c.a.createElement("div",{className:"card-item__head"},c.a.createElement("h2",{className:"card-item__title"},r),c.a.createElement("div",{className:"card-item__buttons"},c.a.createElement(X,{type:"button",title:"Edit",icon:!0,onClick:A},c.a.createElement(te,null)),c.a.createElement(X,{type:"button",title:"Delete",icon:!0,onClick:k},c.a.createElement($,null)))),c.a.createElement("div",{className:"card-item__body"},u&&n.Children.count(u)>0&&c.a.createElement("ul",{className:"card-item__list"},u),!v&&c.a.createElement(X,{type:"button",className:"card-item__add",onClick:function(){return S(!0)}},"Add task"),v&&c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d.trim()?(D({listId:t,title:d}),U()):U()}},c.a.createElement(q,{type:"text",name:"task",value:d,onChange:function(e){var t=e.target;return m(t.value)}}),c.a.createElement(X,null,"Submit"),c.a.createElement(X,{type:"button",onClick:U},"Cancel"))))}),ve=(a(80),function(e){var t=e.id,a=e.listId,r=e.onEdit,o=e.onDelete,l=e.children,i=Object(n.useState)(!1),u=Object(R.a)(i,2),s=u[0],E=u[1],d=Object(n.useState)(l),m=Object(R.a)(d,2),b=m[0],f=m[1],O=function(){return E(!0)},_=function(){E(!1),f(l)},C=function(e){var t=e.target;return f(t.value)},j=function(e){e.preventDefault(),b.trim()===l?_():(r(t,{listId:a,title:b}),E(!1),f(b))},v=function(){return o(a,t)};return c.a.createElement("li",{className:z()("card-task",{"card-task--edit":s})},s?c.a.createElement("form",{className:"card-task__form",onSubmit:j},c.a.createElement(q,{value:b,onChange:C,className:"mb-0"}),c.a.createElement("div",{className:"card-task__buttons"},c.a.createElement(X,{title:"Submit",icon:!0},c.a.createElement(ae,null)),c.a.createElement(X,{type:"button",title:"Cancel",icon:!0,onClick:_},c.a.createElement(ne,null)))):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"card-task__title"},l),c.a.createElement("div",{className:"card-task__buttons"},c.a.createElement(X,{type:"button",title:"Edit",icon:!0,onClick:O},c.a.createElement(te,null)),c.a.createElement(X,{type:"button",title:"Delete",icon:!0,onClick:v},c.a.createElement($,null)))))}),Se=(a(81),function(){var e=Object(n.useState)(!1),t=Object(R.a)(e,2),a=t[0],r=t[1],l=Object(F.h)().boardId,i=Object(F.g)(),u=Object(o.b)();Object(n.useEffect)((function(){u(ue(l)),u(Ee(l))}),[]);var s=Object(o.c)((function(e){return e.currentBoard.item}))||{},d=Object(o.c)((function(e){return e.currentBoard.color}))||{},m=Object(o.c)((function(e){return e.lists.isFetching})),b=Object(o.c)((function(e){return e.lists.items}))||[];Object(n.useEffect)((function(){return document.body.style.backgroundColor=(null===d||void 0===d?void 0:d.hex)||"transparent",function(){return document.body.style.backgroundColor=""}}),[s,d]);var f=Object(n.useCallback)((function(e,t){var a,n;u((a=e,n=t,function(e){D(a,Object(E.a)(Object(E.a)({},n),{},{favorite:!n.favorite})).then((function(){e({type:"TOGGLE_CURRENT_BOARD_SUCCESS"})})).catch((function(t){var a=t.message;e({type:"TOGGLE_CURRENT_BOARD_FAILURE",payload:a})}))}))}),[u]),O=Object(n.useCallback)((function(e,t){var a,n;u((a=e,n=t,function(e){D(a,Object(E.a)({},n)).then((function(t){var a=t.data;e(function(e){return{type:"EDIT_CURRENT_BOARD_SUCCESS",payload:e}}(a)),U(a.colorId).then((function(t){var a=t.data;e(le(a))})).catch((function(t){var a=t.message;e(ie(a))}))})).catch((function(t){var a=t.message;e({type:"EDIT_CURRENT_BOARD_FAILURE",payload:a})}))}))}),[u]),_=Object(n.useCallback)((function(e){u(se(e)),i.push("/")}),[u]),C=Object(n.useCallback)((function(e,t){u(me(e,t))}),[u]),j=Object(n.useCallback)((function(e){u(be(e))}),[u]),v=Object(n.useCallback)((function(e,t){u(Oe(e,t))}),[u]),S=Object(n.useCallback)((function(e,t){u(_e(e,t))}),[u]);return c.a.createElement(x,null,c.a.createElement("div",{className:"board-page__title-wrapper"},c.a.createElement(K,{size:"large",className:"board-page__title"},s.title||"Lists"),c.a.createElement("div",{className:"board-page__actions"},c.a.createElement(X,{title:"Add to favorites",icon:!0,onClick:function(){return f(l,s)}},c.a.createElement(ee,null)),c.a.createElement(X,{title:"Edit board",icon:!0,onClick:function(){return r(!0)}},c.a.createElement(te,null)),c.a.createElement(X,{title:"Delete board",icon:!0,onClick:function(){return _(l)}},c.a.createElement($,null)))),m&&c.a.createElement("p",null,"Loading..."),c.a.createElement(Ce,{boardId:l},b.map((function(e){var t=e.id,a=e.title,n=e.tasks,r=void 0===n?[]:n;return c.a.createElement(je,{key:t,id:t,boardId:l,title:a,onEdit:C,onDelete:j},r.map((function(e){var a=e.id,n=e.title;return c.a.createElement(ve,{key:a,id:a,listId:t,onEdit:v,onDelete:S},n)})))}))),a&&c.a.createElement(Y,{initialState:s,onOk:function(e){O(l,e)},onClose:function(){return r(!1)}}))}),he="/",pe="/boards/:boardId",Re=function(){return c.a.createElement(A.a,null,c.a.createElement(F.d,null,c.a.createElement(F.b,{path:he,exact:!0},c.a.createElement(oe,null)),c.a.createElement(F.b,{path:pe},c.a.createElement(Se,null)),c.a.createElement(F.a,{to:"/"})))};a(82);Object(r.render)(c.a.createElement(n.StrictMode,null,c.a.createElement(o.a,{store:p},c.a.createElement(y,null,c.a.createElement(Re,null)))),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.a69f50e0.chunk.js.map