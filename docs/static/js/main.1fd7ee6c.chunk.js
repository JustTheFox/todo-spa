(this["webpackJsonptodo-spa"]=this["webpackJsonptodo-spa"]||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){},42:function(e,t,a){e.exports=a(83)},68:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),l=a(5),i=a(16),o=a(39),u=a(40),s=a(8),m=a(1),E={items:[],isFetching:!1,error:null},d=function(e,t){return e.map((function(e){return e.id===t?Object(m.a)(Object(m.a)({},e),{},{favorite:!e.favorite}):e}))},b={item:{},isFetching:!1,error:null},f={items:[],isFetching:!1,error:null},O=function(e,t){return e.items.map((function(e){return e.id===t.id?Object(m.a)(Object(m.a)({},e),t):e}))},_=function(e,t){return e.items.map((function(e){return e.id===t.listId?Object(m.a)(Object(m.a)({},e),{},{tasks:[].concat(Object(s.a)(e.tasks),[t])}):e}))},C=function(e,t){return e.items.map((function(e){if(e.id===t.listId){var a=e.tasks.map((function(e){return e.id===t.id?Object(m.a)({},t):e}));return Object(m.a)(Object(m.a)({},e),{},{tasks:Object(s.a)(a)})}return e}))},v=function(e,t,a){return e.items.map((function(e){return e.id===t?e.tasks.filter((function(e){return e.id!==a})):e}))},j={items:[],isFetching:!1,error:null},h=Object(i.c)({boards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_BOARDS_STARTED":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!0});case"FETCH_BOARDS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!1,items:Object(s.a)(n)});case"FETCH_BOARDS_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!1,error:n});case"CREATE_BOARD_STARTED":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!0});case"CREATE_BOARD_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{items:[].concat(Object(s.a)(e.items),[n]),isFetching:!1});case"CREATE_BOARD_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!1,error:n});case"TOGGLE_BOARD_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{items:Object(s.a)(d(e,n))});case"TOGGLE_BOARD_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{error:n});default:return e}},currentBoard:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_CURRENT_BOARD_STARTED":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!0});case"FETCH_CURRENT_BOARD_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{item:Object(m.a)({},n),isFetching:!1});case"FETCH_CURRENT_BOARD_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!1,error:n});case"TOGGLE_CURRENT_BOARD_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{item:Object(m.a)(Object(m.a)({},e.item),{},{favorite:!e.item.favorite})});case"TOGGLE_CURRENT_BOARD_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{error:n});case"EDIT_CURRENT_BOARD_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{item:Object(m.a)({},n)});case"EDIT_CURRENT_BOARD_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{error:n});case"DELETE_CURRENT_BOARD_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{item:{},isFetching:!1,error:""});case"DELETE_CURRENT_BOARD_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!1,error:n});default:return e}},lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_LISTS_STARTED":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!0});case"FETCH_LISTS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{items:Object(s.a)(n),isFetching:!1});case"FETCH_LISTS_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!1,error:n});case"CREATE_LIST_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{items:[].concat(Object(s.a)(e.items),[Object(m.a)(Object(m.a)({},n),{},{tasks:[]})])});case"CREATE_LIST_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{error:n});case"EDIT_LIST_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{items:Object(s.a)(O(e,n))});case"EDIT_LIST_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{error:n});case"DELETE_LIST_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{items:e.items.filter((function(e){return e.id!==n}))});case"DELETE_LIST_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{error:n});case"CREATE_TASK_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{items:Object(s.a)(_(e,n))});case"CREATE_TASK_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{error:n});case"EDIT_TASK_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{items:Object(s.a)(C(e,n))});case"EDIT_TASK_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{error:n});case"DELETE_TASK_SUCCESS":return Object(m.a)(Object(m.a)({},e),v(e,n.listId,n.taskId));case"DELETE_TASK_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{error:n});default:return e}},colors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_COLORS_STARTED":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!0});case"FETCH_COLORS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!1,items:Object(s.a)(n)});case"FETCH_COLORS_FAILURE":return Object(m.a)(Object(m.a)({},e),{},{isFetching:!1,error:n});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_SEARCH_VALUE":return n;default:return e}}}),S=Object(u.createLogger)(),p=Object(i.d)(h,Object(i.a)(o.a,S)),R=a(3),T={DARK:"dark",LIGHT:"light"},g=Object(n.createContext)(),y=function(e){var t=e.children,a=Object(n.useState)(T.LIGHT),r=Object(R.a)(a,2),l=r[0],i=r[1];return c.a.createElement(g.Provider,{value:{THEMES:T,theme:l,onSetTheme:function(){return i(l===T.DARK?T.LIGHT:T.DARK)}}},t)},A=a(15),L=a(4),k=a(41),D=a.n(k).a.create({baseURL:"http://localhost:3004",headers:{"Content-Type":"application/json"}}),F=function(e,t){return D.put("/boards/".concat(e),Object(m.a)({},t))},I=function(){return function(e){e({type:"FETCH_BOARDS_STARTED"}),D.get("/boards?_expand=color&".concat("_sort=id&_order=asc")).then((function(t){var a=t.data;e(function(e){return{type:"FETCH_BOARDS_SUCCESS",payload:e}}(a))})).catch((function(t){var a=t.message;e({type:"FETCH_BOARDS_FAILURE",payload:a})}))}},U=function(e){return function(t){var a;t({type:"CREATE_BOARD_STARTED"}),(a=e,D.post("/boards",Object(m.a)({},a))).then((function(e){var a=e.data;t(function(e){return{type:"CREATE_BOARD_SUCCESS",payload:e}}(a))})).catch((function(e){var a=e.message;t({type:"CREATE_BOARD_FAILURE",payload:a})}))}},N=(a(68),function(){return c.a.createElement(A.b,{to:"/",className:"logo"},"JustTODO")}),B=a(13),x=a(6),H=a.n(x),w=(a(70),Object(n.memo)((function(e){var t=e.type,a=void 0===t?"submit":t,n=e.children,r=e.onClick,l=e.theme,i=void 0===l?"primary":l,o=e.block,u=e.icon,s=e.className,m=Object(B.a)(e,["type","children","onClick","theme","block","icon","className"]);return c.a.createElement("button",Object.assign({type:a,onClick:r,className:H()("btn",{"btn-primary":"primary"===i,"btn-secondary":"secondary"===i,"btn-success":"success"===i,"btn-danger":"danger"===i,"btn-outline-light":"light"===i,"btn-outline-dark":"dark"===i,"btn-block":o,"btn-icon":u},s)},m),n)}))),G=function(e){var t=e.width,a=e.height,n=e.viewBox,r=e.children,l=Object(B.a)(e,["width","height","viewBox","children"]);return c.a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t||24,height:a||24,viewBox:n||"0 0 24 24",children:r},l))},K=function(e){return c.a.createElement(G,Object.assign({width:24,height:24,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},e),c.a.createElement("circle",{cx:"12",cy:"12",r:"5"}),c.a.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),c.a.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),c.a.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),c.a.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),c.a.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),c.a.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),c.a.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),c.a.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))},z=function(e){return c.a.createElement(G,Object.assign({width:24,height:24,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},e),c.a.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))},M=function(e){return c.a.createElement(G,Object.assign({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M2.5 1a1 1 0 00-1 1v1a1 1 0 001 1H3v9a2 2 0 002 2h6a2 2 0 002-2V4h.5a1 1 0 001-1V2a1 1 0 00-1-1H10a1 1 0 00-1-1H7a1 1 0 00-1 1H2.5zm3 4a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7a.5.5 0 01.5-.5zM8 5a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7A.5.5 0 018 5zm3 .5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7z",clipRule:"evenodd"}))},V=function(e){return c.a.createElement(G,Object.assign({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z",clipRule:"evenodd"}))},J=function(e){return c.a.createElement(G,Object.assign({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M11.293 1.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z",clipRule:"evenodd"}),c.a.createElement("path",{fillRule:"evenodd",d:"M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 00.5.5H4v.5a.5.5 0 00.5.5H5v.5a.5.5 0 00.5.5H6v-1.5a.5.5 0 00-.5-.5H5v-.5a.5.5 0 00-.5-.5H3z",clipRule:"evenodd"}))},P=function(e){return c.a.createElement(G,Object.assign({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M13.854 3.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3.5-3.5a.5.5 0 11.708-.708L6.5 10.293l6.646-6.647a.5.5 0 01.708 0z",clipRule:"evenodd"}))},W=function(e){return c.a.createElement(G,Object.assign({width:16,height:16,viewBox:"0 0 16 16",fill:"currentColor"},e),c.a.createElement("path",{fillRule:"evenodd",d:"M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"}),c.a.createElement("path",{fillRule:"evenodd",d:"M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"}))},q=(a(71),function(){var e=Object(n.useContext)(g),t=e.THEMES,a=e.theme,r=e.onSetTheme;Object(n.useEffect)((function(){document.documentElement.setAttribute("data-theme",a)}),[a]);var l=a===t.DARK?t.LIGHT:t.DARK;return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header__logo"},c.a.createElement(N,null)),c.a.createElement("div",{className:"header__theme-btn"},c.a.createElement(w,{theme:l,className:"btn--toggle",icon:!0,onClick:r},a===t.DARK?c.a.createElement(K,null):c.a.createElement(z,null))))}),Q=(a(72),function(e){var t=e.children;return c.a.createElement("main",{className:"content"},t)}),X=(a(73),function(e){var t=e.withoutHeader,a=e.children;return c.a.createElement(c.a.Fragment,null,!t&&c.a.createElement(q,null),c.a.createElement(Q,null,a))}),Y=(a(74),function(e){var t=e.tagName,a=e.size,n=void 0===a?"large":a,r=e.className,l=e.children,i=t||"h1";return c.a.createElement(i,{className:H()("title",{"title--small":"small"===n,"title--medium":"medium"===n,"title--large":"large"===n},r)},l)}),Z=function(){return function(e){e({type:"FETCH_COLORS_STARTED"}),D.get("/colors?_sort=id&_order=asc").then((function(t){var a=t.data;e(function(e){return{type:"FETCH_COLORS_SUCCESS",payload:e}}(a))})).catch((function(t){var a=t.message;e({type:"FETCH_COLORS_FAILURE",payload:a})}))}},$=function(e){var t=e.children;return Object(r.createPortal)(t||null,document.body)},ee=(a(75),function(e){var t=e.children,a=e.title,r=e.onClose,l=e.size,i=void 0===l?"medium":l,o=Object(n.useCallback)((function(){return r()}),[r]),u=Object(n.useCallback)((function(e){27===e.keyCode&&o()}),[o]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",u),function(){return document.removeEventListener("keydown",u)}}),[u]),c.a.createElement($,null,c.a.createElement("div",{className:H()("modal",{"modal--small":"small"===i,"modal--medium":"medium"===i,"modal--large":"large"===i})},c.a.createElement("div",{className:"modal__content"},c.a.createElement("div",{className:"modal__header"},c.a.createElement(Y,{tagName:"h5",size:"medium"},a),c.a.createElement("button",{type:"button",className:"modal__close","aria-label":"Close",onClick:o},"\xd7")),c.a.createElement("div",{className:"modal__body"},t))))}),te=(a(36),function(e){var t=e.className,a=e.onChange,n=e.error,r=Object(B.a)(e,["className","onChange","error"]);return c.a.createElement("div",{className:H()("text-field",t)},c.a.createElement("input",Object.assign({className:"text-field__input form-control",onChange:a},r)),n&&c.a.createElement("span",{className:"text-field__error"},n))}),ae=(a(37),function(e){var t=e.className,a=e.id,n=e.name,r=e.color,l=void 0===r?"":r,i=e.active,o=e.onChange;return c.a.createElement("div",{className:H()("color-field-item",t)},c.a.createElement("input",{type:"radio",className:"color-field-item__input",id:"".concat(n,"-").concat(a),name:n,checked:a===i,value:a,onChange:function(){return o(a)}}),c.a.createElement("label",{htmlFor:"".concat(n,"-").concat(a),className:"color-field-item__label",style:{backgroundColor:l}}))}),ne=function(e){var t=e.items,a=void 0===t?[]:t,r=e.active,l=e.onChange,i=e.className,o=Object(n.useState)(r||1),u=Object(R.a)(o,2),s=u[0],m=u[1],E=function(e){m(e),l(e)};return c.a.createElement("div",{className:H()("color-field",i)},a.map((function(e){var t=e.id,a=e.hex;return c.a.createElement(ae,{key:t,id:t,name:"color",color:a,active:s,onChange:E})})))},ce=function(e){var t=e.initialState,a=void 0===t?{}:t,r=e.onOk,i=e.onClose,o=Object(B.a)(e,["initialState","onOk","onClose"]),u=Object(n.useState)((null===a||void 0===a?void 0:a.title)||""),s=Object(R.a)(u,2),E=s[0],d=s[1],b=Object(n.useState)((null===a||void 0===a?void 0:a.color)||0),f=Object(R.a)(b,2),O=f[0],_=f[1],C=Object(l.b)();Object(n.useEffect)((function(){C(Z())}),[]);var v=Object(l.c)((function(e){return e.colors.items})),j=function(){d(""),i()};return c.a.createElement(ee,Object.assign({title:"Add board",onClose:i},o),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E.trim()&&(r(Object(m.a)(Object(m.a)({},a),{},{title:E,colorId:O})),j())}},c.a.createElement(te,{className:"mb-3",type:"text",value:E,onChange:function(e){var t=e.target;return d(t.value)}}),c.a.createElement(ne,{items:v,active:O,onChange:_}),c.a.createElement(w,{disabled:!E||!O},"Submit"),c.a.createElement(w,{type:"button",onClick:j},"Cansel")))},re=(a(76),function(e){var t=e.id,a=e.color,n=e.children,r=e.favorite,l=e.isCreate,i=e.onToggle,o=e.onCreate,u=function(){return i(t,r)};return c.a.createElement("li",{className:"board-item",style:{backgroundColor:null===a||void 0===a?void 0:a.hex}},l?c.a.createElement("button",{type:"button",className:"board-item__wrapper board-item__button",onClick:o},n):c.a.createElement(c.a.Fragment,null,c.a.createElement(A.b,{to:"/boards/".concat(t),className:"board-item__wrapper board-item__link"},c.a.createElement("h2",{className:"board-item__title"},n)),c.a.createElement("div",{className:"board-item__buttons"},c.a.createElement(w,{type:"button",onClick:u,title:"Add to favorites"},c.a.createElement(V,null)))))}),le=(a(77),function(e){var t=e.children,a=Object(n.useState)(!1),r=Object(R.a)(a,2),i=r[0],o=r[1],u=Object(l.b)(),s=Object(n.useCallback)((function(e){u(U(e))}),[u]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"board-list"},c.a.createElement(c.a.Fragment,null,t),c.a.createElement(re,{isCreate:!0,onCreate:function(){return o(!0)}},"Create new board")),i&&c.a.createElement(ce,{onOk:function(e){s(e)},onClose:function(){return o(!1)}}))}),ie=function(){var e=Object(l.b)();Object(n.useEffect)((function(){e(I())}),[]);var t=Object(n.useCallback)((function(t){e(function(e,t){return function(a){F(e,Object(m.a)(Object(m.a)({},t),{},{favorite:!t.favorite})).then((function(){a(function(e){return{type:"TOGGLE_BOARD_SUCCESS",payload:e}}(e))})).catch((function(e){var t=e.message;a({type:"TOGGLE_BOARD_FAILURE",payload:t})}))}}(t))}),[e]),a=Object(l.c)((function(e){return e.boards.isFetching})),r=Object(l.c)((function(e){return e.boards.items}))||[];return c.a.createElement(X,null,c.a.createElement(Y,null,"Boards"),a&&c.a.createElement("p",null,"Loading..."),c.a.createElement(le,null,r.map((function(e){var a=e.id,n=e.title,r=e.favorite,l=e.color,i=void 0===l?"":l;return c.a.createElement(re,{key:a,id:a,favorite:r,color:i,onToggle:t},n)}))))},oe=function(e){return function(t){t({type:"FETCH_CURRENT_BOARD_STARTED"}),function(e){return D.get("/boards/".concat(e,"?_expand=color"))}(e).then((function(e){var a=e.data;t(function(e){return{type:"FETCH_CURRENT_BOARD_SUCCESS",payload:e}}(a))})).catch((function(e){var a=e.message;t({type:"FETCH_CURRENT_BOARD_FAILURE",payload:a})}))}},ue=function(e){return function(t){(function(e){return D.delete("/boards/".concat(e))})(e).then((function(){var e;t({type:"DELETE_CURRENT_BOARD_SUCCESS",payload:e})})).catch((function(e){var a=e.message;t({type:"DELETE_CURRENT_BOARD_FAILURE",payload:a})}))}},se=function(e){return function(t){var a;t({type:"FETCH_LISTS_STARTED"}),(a=e,D.get("/lists?boardId=".concat(a,"&_embed=tasks&").concat("_sort=id&_order=asc"))).then((function(e){var a=e.data;t({type:"FETCH_LISTS_SUCCESS",payload:a})})).catch((function(e){var a=e.message;t({type:"FETCH_LISTS_FAILURE",payload:a})}))}},me=function(e){return function(t){var a;(a=e,D.post("/lists",Object(m.a)({},a))).then((function(e){var a=e.data;t(function(e){return{type:"CREATE_LIST_SUCCESS",payload:e}}(a))})).catch((function(e){var a=e.message;t({type:"CREATE_LIST_FAILURE",payload:a})}))}},Ee=function(e,t){return function(a){(function(e,t){return D.put("/lists/".concat(e),Object(m.a)({},t))})(e,t).then((function(e){var t=e.data;a({type:"EDIT_LIST_SUCCESS",payload:t})})).catch((function(e){var t=e.message;a({type:"EDIT_LIST_FAILURE",payload:t})}))}},de=function(e){return function(t){(function(e){return D.delete("/lists/".concat(e))})(e).then((function(){t({type:"DELETE_LIST_SUCCESS",payload:e})})).catch((function(e){var a=e.message;t({type:"DELETE_LIST_FAILURE",payload:a})}))}},be=function(e){return function(t){var a;(a=e,D.post("/tasks",Object(m.a)({},a))).then((function(e){var a=e.data;t(function(e){return{type:"CREATE_TASK_SUCCESS",payload:e}}(a))})).catch((function(e){var a=e.message;t({type:"CREATE_TASK_FAILURE",payload:a})}))}},fe=function(e,t){return function(a){(function(e,t){return D.put("/tasks/".concat(e),Object(m.a)({},t))})(e,t).then((function(e){var t=e.data;a({type:"EDIT_TASK_SUCCESS",payload:t})})).catch((function(e){var t=e.message;a({type:"EDIT_TASK_FAILURE",payload:t})}))}},Oe=function(e,t){return function(a){var n;(n=t,D.delete("/tasks/".concat(n))).then((function(){a(function(e,t){return{type:"DELETE_TASK_SUCCESS",payload:{listId:e,taskId:t}}}(e,t))})).catch((function(e){var t=e.message;a({type:"DELETE_TASK_FAILURE",payload:t})}))}},_e=(a(78),function(e){var t=e.boardId,a=e.children,i=Object(n.useState)(!1),o=Object(R.a)(i,2),u=o[0],s=o[1],m=Object(n.useState)(""),E=Object(R.a)(m,2),d=E[0],b=E[1],f=Object(n.useRef)(null),O=Object(l.b)(),_=Object(n.useCallback)((function(e){O(me(e))}),[O]),C=function(){s(!1),b("")};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"card-list"},c.a.createElement(c.a.Fragment,null,a),c.a.createElement("div",{className:"card-list__create",ref:f},!u&&c.a.createElement(w,{className:"card-list__create-btn",onClick:function(){return s(!0)}},"Create list"),u&&c.a.createElement("form",{onSubmit:function(e){var a;(e.preventDefault(),d.trim())&&(_({boardId:Number(t),title:d}),C(),a=f,Object(r.findDOMNode)(a.current).scrollIntoView({behavior:"smooth",block:"end"}))}},c.a.createElement(te,{type:"text",name:"task",value:d,onChange:function(e){var t=e.target;return b(t.value)},autoFocus:!0}),c.a.createElement(w,null,"Add"),c.a.createElement(w,{type:"button",onClick:C},"Cancel")))))}),Ce=(a(79),function(e){var t=e.id,a=e.boardId,r=e.title,i=e.onEdit,o=e.onDelete,u=e.children,s=Object(n.useState)(""),m=Object(R.a)(s,2),E=m[0],d=m[1],b=Object(n.useState)(r),f=Object(R.a)(b,2),O=f[0],_=f[1],C=Object(n.useState)(!1),v=Object(R.a)(C,2),j=v[0],h=v[1],S=Object(n.useState)(!1),p=Object(R.a)(S,2),T=p[0],g=p[1],y=Object(l.b)(),A=function(){return g(!0)},L=function(){g(!1),_(r)},k=function(e){var t=e.target;return _(t.value)},D=function(e){e.preventDefault(),O.trim()===r?L():(i(t,{boardId:Number(a),title:O}),g(!1),_(O))},F=Object(n.useCallback)((function(e){y(be(e))}),[y]),I=function(){h(!1),d("")},U=function(){return o(t)};return c.a.createElement("div",{className:"card-item"},T?c.a.createElement("form",{className:"card-item__head",onSubmit:D},c.a.createElement(te,{value:O,onChange:k,className:"mb-0"}),c.a.createElement("div",{className:"card-item__buttons"},c.a.createElement(w,{title:"Submit",icon:!0},c.a.createElement(P,null)),c.a.createElement(w,{type:"button",title:"Cancel",icon:!0,onClick:L},c.a.createElement(W,null)))):c.a.createElement("div",{className:"card-item__head"},c.a.createElement("h2",{className:"card-item__title"},r),c.a.createElement("div",{className:"card-item__buttons"},c.a.createElement(w,{type:"button",title:"Edit",icon:!0,onClick:A},c.a.createElement(J,null)),c.a.createElement(w,{type:"button",title:"Delete",icon:!0,onClick:U},c.a.createElement(M,null)))),c.a.createElement("div",{className:"card-item__body"},u&&n.Children.count(u)>0&&c.a.createElement("ul",{className:"card-item__list"},u),!j&&c.a.createElement(w,{type:"button",className:"card-item__add",onClick:function(){return h(!0)}},"Add task"),j&&c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E.trim()?(F({listId:t,title:E}),I()):I()}},c.a.createElement(te,{type:"text",name:"task",value:E,onChange:function(e){var t=e.target;return d(t.value)}}),c.a.createElement(w,null,"Submit"),c.a.createElement(w,{type:"button",onClick:I},"Cancel"))))}),ve=(a(80),function(e){var t=e.id,a=e.listId,r=e.onEdit,l=e.onDelete,i=e.children,o=Object(n.useState)(!1),u=Object(R.a)(o,2),s=u[0],m=u[1],E=Object(n.useState)(i),d=Object(R.a)(E,2),b=d[0],f=d[1],O=function(){return m(!0)},_=function(){m(!1),f(i)},C=function(e){var t=e.target;return f(t.value)},v=function(e){e.preventDefault(),b.trim()===i?_():(r(t,{listId:a,title:b}),m(!1),f(b))},j=function(){return l(a,t)};return c.a.createElement("li",{className:H()("card-task",{"card-task--edit":s})},s?c.a.createElement("form",{className:"card-task__form",onSubmit:v},c.a.createElement(te,{value:b,onChange:C,className:"mb-0"}),c.a.createElement("div",{className:"card-task__buttons"},c.a.createElement(w,{title:"Submit",icon:!0},c.a.createElement(P,null)),c.a.createElement(w,{type:"button",title:"Cancel",icon:!0,onClick:_},c.a.createElement(W,null)))):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"card-task__title"},i),c.a.createElement("div",{className:"card-task__buttons"},c.a.createElement(w,{type:"button",title:"Edit",icon:!0,onClick:O},c.a.createElement(J,null)),c.a.createElement(w,{type:"button",title:"Delete",icon:!0,onClick:j},c.a.createElement(M,null)))))}),je=(a(81),function(){var e=Object(n.useState)(!1),t=Object(R.a)(e,2),a=t[0],r=t[1],i=Object(L.h)().boardId,o=Object(L.g)(),u=Object(l.b)();Object(n.useEffect)((function(){u(oe(i)),u(se(i))}),[]);var s=Object(l.c)((function(e){return e.currentBoard.item}))||{},E=Object(l.c)((function(e){return e.lists.isFetching})),d=Object(l.c)((function(e){return e.lists.items}))||[];Object(n.useEffect)((function(){var e;return document.body.style.backgroundColor=(null===s||void 0===s||null===(e=s.color)||void 0===e?void 0:e.hex)||"transparent",function(){return document.body.style.backgroundColor=""}}),[s]);var b=Object(n.useCallback)((function(e,t){var a,n;u((a=e,n=t,function(e){F(a,Object(m.a)(Object(m.a)({},n),{},{favorite:!n.favorite})).then((function(){e({type:"TOGGLE_CURRENT_BOARD_SUCCESS"})})).catch((function(t){var a=t.message;e({type:"TOGGLE_CURRENT_BOARD_FAILURE",payload:a})}))}))}),[u]),f=Object(n.useCallback)((function(e,t){var a,n;u((a=e,n=t,function(e){F(a,Object(m.a)({},n)).then((function(t){var a=t.data;e(function(e){return{type:"EDIT_CURRENT_BOARD_SUCCESS",payload:e}}(a))})).catch((function(t){var a=t.message;e({type:"EDIT_CURRENT_BOARD_FAILURE",payload:a})}))}))}),[u]),O=Object(n.useCallback)((function(e){u(ue(e)),o.push("/")}),[u]),_=Object(n.useCallback)((function(e,t){u(Ee(e,t))}),[u]),C=Object(n.useCallback)((function(e){u(de(e))}),[u]),v=Object(n.useCallback)((function(e,t){u(fe(e,t))}),[u]),j=Object(n.useCallback)((function(e,t){u(Oe(e,t))}),[u]);return c.a.createElement(X,null,c.a.createElement("div",{className:"board-page__title-wrapper"},c.a.createElement(Y,{size:"large",className:"board-page__title"},s.title||"Lists"),c.a.createElement("div",{className:"board-page__actions"},c.a.createElement(w,{title:"Add to favorites",icon:!0,onClick:function(){return b(i,s)}},c.a.createElement(V,null)),c.a.createElement(w,{title:"Edit board",icon:!0,onClick:function(){return r(!0)}},c.a.createElement(J,null)),c.a.createElement(w,{title:"Delete board",icon:!0,onClick:function(){return O(i)}},c.a.createElement(M,null)))),E&&c.a.createElement("p",null,"Loading..."),c.a.createElement(_e,{boardId:i},d.map((function(e){var t=e.id,a=e.title,n=e.tasks,r=void 0===n?[]:n;return c.a.createElement(Ce,{key:t,id:t,boardId:i,title:a,onEdit:_,onDelete:C},r.map((function(e){var a=e.id,n=e.title;return c.a.createElement(ve,{key:a,id:a,listId:t,onEdit:v,onDelete:j},n)})))}))),a&&c.a.createElement(ce,{initialState:s,onOk:function(e){f(i,e)},onClose:function(){return r(!1)}}))}),he="/",Se="/boards/:boardId",pe=function(){return c.a.createElement(A.a,null,c.a.createElement(L.d,null,c.a.createElement(L.b,{path:he,exact:!0},c.a.createElement(ie,null)),c.a.createElement(L.b,{path:Se},c.a.createElement(je,null)),c.a.createElement(L.a,{to:"/"})))};a(82);Object(r.render)(c.a.createElement(n.StrictMode,null,c.a.createElement(l.a,{store:p},c.a.createElement(y,null,c.a.createElement(pe,null)))),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.1fd7ee6c.chunk.js.map